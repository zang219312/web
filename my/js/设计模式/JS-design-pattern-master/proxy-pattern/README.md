## 代理模式

代理模式的关键是，当客户不方便直接访问一个对象或者不满足需要的时候，提供一个替身对象来控制对本体对象的访问，客户实际上访问的是替身对象。
替身对象对请求做出一些处理之后，再把请求转交给本体对象。

### 保护代理和虚拟代理

- 保护代理，用于控制不同权限的客户对目标对象的访问。
- 虚拟代理，把一些开销很大的对象，延迟到真正需要它的时候才去创建。
- 缓存代理，为一些开销很大的运算结果提供暂时的存储，在下次运算时，如果参数跟之前的一致，则可以直接返回前面存储的结果。

### 代理和本体接口的一致性

关键原则，代理对象和本体对象都对外提供一致的接口，用户并不请求代理和本体的区别，代理接手请求的过程对于用户来说是透明的。
在`Java`等语言中，代理和本体都需要显式地实线同一个接口，一方面接口保证了它们会有同样的方法，另一方面，面向接口编程迎合依赖倒置原则，通过接口进行向上转型，从而代理和本体将来可以被替换使用。
